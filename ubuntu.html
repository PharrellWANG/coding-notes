

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Ubuntu &mdash; Coding Notes latest documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Coding Notes latest documentation" href="index.html"/>
        <link rel="next" title="Zsh Shell" href="zsh-shell.html"/>
        <link rel="prev" title="Mac" href="mac.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Coding Notes
          

          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">AI</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="deep-learning.html">Deep Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="tensorflow.html">Tensorflow</a></li>
</ul>
<p class="caption"><span class="caption-text">Windows</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="windows.html">Windows</a></li>
</ul>
<p class="caption"><span class="caption-text">Unix</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="docker.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="mac.html">Mac</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Ubuntu</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#utilities">Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#print-directory-in-terminal">Print directory in terminal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#find">find</a></li>
<li class="toctree-l3"><a class="reference internal" href="#disown">disown</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rsync">rsync</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-update-ubuntu-packages-on-18-04-bionic-beaver-linux">How to update ubuntu packages on 18.04 Bionic Beaver Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="#check-cpu-ram">check cpu ram</a></li>
<li class="toctree-l2"><a class="reference internal" href="#check-version">Check Version</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#old-school">old school</a></li>
<li class="toctree-l3"><a class="reference internal" href="#new">new</a></li>
<li class="toctree-l3"><a class="reference internal" href="#check-disk-space">Check disk space</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#install-latex-on-ubuntu">Install latex on ubuntu</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cat-in-ubuntu">cat in Ubuntu</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-copy-filename-or-current-working-dir-to-clipboard">How to copy filename or current working dir to clipboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-set-static-ip-address-for-ubuntu-server-16-4-and-do-port-forwarding">How to set static ip address for ubuntu server 16.4 and do port forwarding</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-enable-remote-ssh">How to enable remote ssh</a></li>
<li class="toctree-l2"><a class="reference internal" href="#permission-denied-publickey">Permission denied (publickey)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#for-ssh">for ssh</a></li>
<li class="toctree-l3"><a class="reference internal" href="#for-git-pull">for git pull</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ssh-add">ssh-add</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-is-the-eval-command-in-bash">what is the eval command in bash</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuring-iptables-on-ubuntu-14-04">Configuring Iptables on Ubuntu 14.04</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#save">Save</a></li>
<li class="toctree-l3"><a class="reference internal" href="#restore">Restore</a></li>
<li class="toctree-l3"><a class="reference internal" href="#apply">Apply</a></li>
<li class="toctree-l3"><a class="reference internal" href="#persistent-iptables">Persistent Iptables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-to-solve-the-issue-of-filezilla-permission-denied">How to solve the issue of Filezilla permission denied</a></li>
<li class="toctree-l3"><a class="reference internal" href="#give-specific-user-permission-to-write-to-a-folder-using-w-notation">Give specific user permission to write to a folder using +w notation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tar-compress">tar compress</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#basics">Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#advanced">Advanced</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#download-upload-files-from-to-server">Download/Upload files from/to server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-is-the-difference-between-bash-profile-and-bashrc">what is the difference between .bash_profile and .bashrc</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-execute-a-bash-script-at-system-startup-shutdown-reboot">How to execute a bash script at system Startup/Shutdown/Reboot</a></li>
<li class="toctree-l2"><a class="reference internal" href="#check-the-size-of-a-folder">Check the size of a folder</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="zsh-shell.html">Zsh Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="supervisor.html">Supervisor</a></li>
<li class="toctree-l1"><a class="reference internal" href="ports.html">Ports</a></li>
<li class="toctree-l1"><a class="reference internal" href="git.html">Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="anaconda.html">Anaconda</a></li>
<li class="toctree-l1"><a class="reference internal" href="vim.html">Vim</a></li>
<li class="toctree-l1"><a class="reference internal" href="htcondor.html">HTCondor</a></li>
<li class="toctree-l1"><a class="reference internal" href="opencv.html">OpenCV</a></li>
</ul>
<p class="caption"><span class="caption-text">Web Dev</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="frontend-node.html">Node</a></li>
<li class="toctree-l1"><a class="reference internal" href="frontend-npm.html">NPM</a></li>
<li class="toctree-l1"><a class="reference internal" href="frontend-react-redux.html">React &amp; Redux</a></li>
<li class="toctree-l1"><a class="reference internal" href="backend-django.html">Django</a></li>
<li class="toctree-l1"><a class="reference internal" href="backend-drf.html">Django Rest Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="backend-psql.html">PostgreSQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="backend-dot.html">Django OAuth Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="nginx.html">Nginx</a></li>
<li class="toctree-l1"><a class="reference internal" href="http.html">HTTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="ssl.html">Secure Sockets Layer (SSL/TLS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="internet.html">Internet</a></li>
</ul>
<p class="caption"><span class="caption-text">Write the Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sphinx-get-started.html">Sphinx Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="sphinx-how-to.html">Sphinx How To</a></li>
<li class="toctree-l1"><a class="reference internal" href="markdown.html">Markdown How To</a></li>
<li class="toctree-l1"><a class="reference internal" href="gitbook.html">GitBook How To</a></li>
<li class="toctree-l1"><a class="reference internal" href="mkdocs.html">MkDocs</a></li>
</ul>
<p class="caption"><span class="caption-text">Coding Languages</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="python.html">Python</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Coding Notes</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Ubuntu</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ubuntu">
<h1>Ubuntu<a class="headerlink" href="#ubuntu" title="Permalink to this headline">¶</a></h1>
<div class="section" id="utilities">
<h2>Utilities<a class="headerlink" href="#utilities" title="Permalink to this headline">¶</a></h2>
<div class="section" id="print-directory-in-terminal">
<h3>Print directory in terminal<a class="headerlink" href="#print-directory-in-terminal" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">find</span> <span class="pre">.</span> <span class="pre">-type</span> <span class="pre">d</span> <span class="pre">|</span> <span class="pre">sed</span> <span class="pre">-e</span> <span class="pre">&quot;s/[^-][^\/]*\//</span>&#160; <span class="pre">|/g&quot;</span> <span class="pre">-e</span> <span class="pre">&quot;s/|\([^</span> <span class="pre">]\)/|-\1/&quot;</span></code></p>
<p>This command will search recursively for directories inside the parent directory and then draw the tree of the founded directories.</p>
<p>You may also try the following to include all of the files as well.</p>
<p><code class="docutils literal notranslate"><span class="pre">find</span> <span class="pre">|</span> <span class="pre">sed</span> <span class="pre">'s|[^/]*/|-</span> <span class="pre">|g'</span></code></p>
</div>
<div class="section" id="find">
<h3>find<a class="headerlink" href="#find" title="Permalink to this headline">¶</a></h3>
<p>User <code class="docutils literal notranslate"><span class="pre">find</span></code> to find files recursively by file type and copy them to a directory.</p>
<p>Folder <code class="docutils literal notranslate"><span class="pre">Enc</span></code> has two sub folders: <code class="docutils literal notranslate"><span class="pre">HM</span></code> and <code class="docutils literal notranslate"><span class="pre">csv</span></code>. You can use below method
to collect all the csv files inside <code class="docutils literal notranslate"><span class="pre">HM</span></code> into <code class="docutils literal notranslate"><span class="pre">csv</span></code> folder:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> Enc/HM
$ find . -name <span class="s2">&quot;*.csv&quot;</span> -type f -exec cp <span class="o">{}</span> ../csv/ <span class="se">\;</span>
</pre></div>
</div>
<p>Done.</p>
</div>
<div class="section" id="disown">
<h3>disown<a class="headerlink" href="#disown" title="Permalink to this headline">¶</a></h3>
<p>Use <code class="docutils literal notranslate"><span class="pre">disown</span></code> to keep process running after ending ssh session
<a class="reference external" href="https://askubuntu.com/questions/8653/how-to-keep-processes-running-after-ending-ssh-session">Reference</a></p>
<ol class="arabic simple">
<li>ssh [server];</li>
<li>command;</li>
<li>CTRL + Z;</li>
<li><code class="docutils literal notranslate"><span class="pre">bg</span></code>;</li>
<li><code class="docutils literal notranslate"><span class="pre">disown</span></code>;</li>
<li>exit.</li>
</ol>
<p>Done.</p>
</div>
<div class="section" id="rsync">
<h3>rsync<a class="headerlink" href="#rsync" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">rsync – a fast, versatile, remote (and local) file-copying tool</p>
</div>
<p>Example usage:</p>
<p><strong>Usage #1</strong>: Use <code class="docutils literal notranslate"><span class="pre">rsync</span></code> to <em>locally</em> copy folders and optionally omit some files/folders.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ rsync -av --progress HM HM-COPY --exclude *.yuv --exclude *.bin
</pre></div>
</div>
<p>or</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ rsync -av --progress Orig ../PA --exclude *.yuv --exclude *.bin --exclude *.txt
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If folder <code class="docutils literal notranslate"><span class="pre">PA</span></code> does not exist before you execute the command above, you need to <code class="docutils literal notranslate"><span class="pre">mkdir</span> <span class="pre">PA</span></code> first.
<code class="docutils literal notranslate"><span class="pre">rsync</span></code> will not help you create directory.</p>
</div>
<p>Explain:</p>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">-v</span></code> means `` -v, –verbose               increase verbosity``</li>
<li><code class="docutils literal notranslate"><span class="pre">-a</span></code> is the archive mode, it includes lots of modes, see <a class="reference external" href="https://superuser.com/questions/1322108/when-is-av-not-the-appropriate-option-for-rsync">here</a> for more.</li>
<li><strong>HM</strong> is the source folder.</li>
<li><strong>HM-COPY</strong> is the destination folder, if it does not exist, it will be created.</li>
<li>If we do not specify the full path, <strong>HM-COPY</strong> will be created in the current working directory.</li>
<li>You can use <code class="docutils literal notranslate"><span class="pre">--exclude</span></code> multiple times, you can also just use it once.</li>
</ol>
<p><strong>Usage #2</strong>: Use <code class="docutils literal notranslate"><span class="pre">rsync</span></code> to <em>remotely</em> push/pull files/folders.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ rsync -av --progress &lt;user-name&gt;@&lt;host-ip&gt;:/home/&lt;user-name&gt;/&lt;folder-to-copy&gt; /Users/&lt;user-name&gt;/Downloads
</pre></div>
</div>
<p>&lt;folder-to-copy&gt; will be copied to <code class="docutils literal notranslate"><span class="pre">Downloads</span></code> folder.</p>
<p>See <a class="reference external" href="https://linux.die.net/man/1/rsync">rsync manual page</a>.</p>
</div>
</div>
<div class="section" id="how-to-update-ubuntu-packages-on-18-04-bionic-beaver-linux">
<h2>How to update ubuntu packages on 18.04 Bionic Beaver Linux<a class="headerlink" href="#how-to-update-ubuntu-packages-on-18-04-bionic-beaver-linux" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo apt update
$ sudo apt list --upgradable
$ sudo apt upgrade
$ sudo apt dist-upgrade
$ sudo apt autoremove
</pre></div>
</div>
<p>or <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">update</span> <span class="pre">&amp;&amp;</span> <span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">list</span> <span class="pre">--upgradable</span> <span class="pre">&amp;&amp;</span> <span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">upgrade</span> <span class="pre">&amp;&amp;</span> <span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">dist-upgrade</span> <span class="pre">&amp;&amp;</span> <span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">autoremove</span></code></p>
</div>
<div class="section" id="check-cpu-ram">
<h2>check cpu ram<a class="headerlink" href="#check-cpu-ram" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">/proc/meminfo</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">/proc/cpuinfo</span></code></p>
</div>
<div class="section" id="check-version">
<h2>Check Version<a class="headerlink" href="#check-version" title="Permalink to this headline">¶</a></h2>
<div class="section" id="old-school">
<h3>old school<a class="headerlink" href="#old-school" title="Permalink to this headline">¶</a></h3>
<p>The below terminal command can help you check the ubuntu release version.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ lsb_release -a
</pre></div>
</div>
</div>
<div class="section" id="new">
<h3>new<a class="headerlink" href="#new" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cat /etc/os-release
</pre></div>
</div>
</div>
<div class="section" id="check-disk-space">
<h3>Check disk space<a class="headerlink" href="#check-disk-space" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>type <cite>df -h</cite> in terminal</li>
<li>check a folder</li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ du -h /usr/local/texlive/2016/
</pre></div>
</div>
</div>
</div>
<div class="section" id="install-latex-on-ubuntu">
<h2>Install latex on ubuntu<a class="headerlink" href="#install-latex-on-ubuntu" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">texlive-full</span></code></p>
</div>
<div class="section" id="cat-in-ubuntu">
<h2>cat in Ubuntu<a class="headerlink" href="#cat-in-ubuntu" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">ref:</th><td class="field-body"><a class="reference external" href="https://www.tecmint.com/13-basic-cat-command-examples-in-linux/">https://www.tecmint.com/13-basic-cat-command-examples-in-linux/</a></td>
</tr>
</tbody>
</table>
<p>Use <code class="docutils literal notranslate"><span class="pre">cat</span></code> to get the contents into a txt file.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo cat /etc/network/interfaces &gt; /tmp/net.txt
</pre></div>
</div>
</div>
<div class="section" id="how-to-copy-filename-or-current-working-dir-to-clipboard">
<h2>How to copy filename or current working dir to clipboard<a class="headerlink" href="#how-to-copy-filename-or-current-working-dir-to-clipboard" title="Permalink to this headline">¶</a></h2>
<p>First install <strong>xclip</strong>: <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">xclip</span></code>.</p>
<p>Then inside <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code>, add</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">alias</span> <span class="nv">pbcopy</span><span class="o">=</span><span class="s1">&#39;xclip -selection clipboard&#39;</span>
$ <span class="nb">alias</span> <span class="nv">pbpaste</span><span class="o">=</span><span class="s1">&#39;xclip -selection clipboard -o&#39;</span>
</pre></div>
</div>
<p>After the above two steps, you can</p>
<ol class="arabic simple">
<li>copy filename to clipboard: <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">&lt;filename.ext&gt;</span> <span class="pre">|</span> <span class="pre">pbcopy</span></code>, paste to somewhere <code class="docutils literal notranslate"><span class="pre">pbpaste</span></code>.</li>
<li>copy current working directory to clipboard: <code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">$PWD</span> <span class="pre">|</span> <span class="pre">pbcopy</span></code>, paste to somewhere <code class="docutils literal notranslate"><span class="pre">pbpaste</span></code>.</li>
</ol>
</div>
<div class="section" id="how-to-set-static-ip-address-for-ubuntu-server-16-4-and-do-port-forwarding">
<h2>How to set static ip address for ubuntu server 16.4 and do port forwarding<a class="headerlink" href="#how-to-set-static-ip-address-for-ubuntu-server-16-4-and-do-port-forwarding" title="Permalink to this headline">¶</a></h2>
<p>Find an existing vm ubuntu server, use the <code class="docutils literal notranslate"><span class="pre">net.txt</span></code> that you get from the above step.
And type the contents in that <code class="docutils literal notranslate"><span class="pre">net.txt</span></code> file to the <code class="docutils literal notranslate"><span class="pre">/etc/network/interfaces</span></code>. <strong>Then shutdown the vm, refresh the mac address</strong> for several times.</p>
<p>An example provided for downloading:</p>
<p><a class="reference download internal" href="_downloads/net.txt" download=""><code class="xref download docutils literal notranslate"><span class="pre">network/interfaces</span></code></a></p>
<p>At this time you can ask the network administrator to help do the port forwarding.</p>
<p>You need to provide:</p>
<ol class="arabic simple">
<li>static ip: e.g., 192.168.0.157 (maybe mac address also needed)</li>
<li>local port 8080 mapping to the public port 8080 [or other ports]</li>
</ol>
</div>
<div class="section" id="how-to-enable-remote-ssh">
<h2>How to enable remote ssh<a class="headerlink" href="#how-to-enable-remote-ssh" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">ref:</th><td class="field-body"><a class="reference external" href="https://help.ubuntu.com/lts/serverguide/openssh-server.html">https://help.ubuntu.com/lts/serverguide/openssh-server.html</a></td>
</tr>
<tr class="field-even field"><th class="field-name">ref:</th><td class="field-body"><a class="reference external" href="https://help.ubuntu.com/community/SSH/OpenSSH/Configuring">https://help.ubuntu.com/community/SSH/OpenSSH/Configuring</a></td>
</tr>
</tbody>
</table>
<p><strong>Remember to change the network adapter to ``Bridged`` instead of ``NAT``.</strong></p>
<p>If you want quick remote access using password only:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo nano /etc/ssh/sshd_config
</pre></div>
</div>
<p>Then uncomment this line of codes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#PasswordAuthentication yes</span>
</pre></div>
</div>
<p>Then restart ssh:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo restart ssh
</pre></div>
</div>
<p>If you get the error, “Unable to connect to Upstart”, restart ssh with the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo systemctl restart ssh
</pre></div>
</div>
<p>If you want to use key pair auth, please refer to links above.</p>
</div>
<div class="section" id="permission-denied-publickey">
<h2>Permission denied (publickey)<a class="headerlink" href="#permission-denied-publickey" title="Permalink to this headline">¶</a></h2>
<div class="section" id="for-ssh">
<h3>for ssh<a class="headerlink" href="#for-ssh" title="Permalink to this headline">¶</a></h3>
<p>If you see a warning like <code class="docutils literal notranslate"><span class="pre">Permission</span> <span class="pre">denied</span> <span class="pre">(publickey)</span></code>, try to supply
private key.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ssh root@www.mywebsite.com
<span class="c1"># Permission denied (publickey).</span>

$ ssh -i ~/.ssh/my_private_key root@www.mywebsite.com
<span class="c1"># success!</span>
</pre></div>
</div>
<p>Or if you can configure <code class="docutils literal notranslate"><span class="pre">~/.ssh/config</span></code> file, based on your configuration,
you can directly type <code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">mywebsite</span></code>.</p>
</div>
<div class="section" id="for-git-pull">
<h3>for git pull<a class="headerlink" href="#for-git-pull" title="Permalink to this headline">¶</a></h3>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">ref:</th><td class="field-body"><a class="reference external" href="https://confluence.atlassian.com/bitbucket/troubleshoot-ssh-issues-271943403.html">https://confluence.atlassian.com/bitbucket/troubleshoot-ssh-issues-271943403.html</a></td>
</tr>
</tbody>
</table>
<p>if you see <code class="docutils literal notranslate"><span class="pre">Permission</span> <span class="pre">denied(publickey)</span></code> when doing git pull,
please first type</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">eval</span> <span class="sb">`</span>ssh-agent<span class="sb">`</span>
</pre></div>
</div>
<p>in the terminal to
start <a class="reference external" href="https://linux.die.net/man/1/ssh-agent">ssh agent</a>,
which is the authentication agent.</p>
<p>Then you can use <code class="docutils literal notranslate"><span class="pre">ssh-add</span> <span class="pre">~/.ssh/&lt;private_key_file&gt;</span></code> to add your keys.</p>
</div>
</div>
<div class="section" id="ssh-add">
<h2>ssh-add<a class="headerlink" href="#ssh-add" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://stackoverflow.com/questions/17846529/could-not-open-a-connection-to-your-authentication-agent">Could not open a connection to your authentication agent</a></p>
<p>If you cannot successfully perform <code class="docutils literal notranslate"><span class="pre">ssh-add</span></code>, you can do this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">eval</span> <span class="sb">`</span>ssh-agent -s<span class="sb">`</span>
$ ssh-add
</pre></div>
</div>
</div>
<div class="section" id="what-is-the-eval-command-in-bash">
<h2>what is the eval command in bash<a class="headerlink" href="#what-is-the-eval-command-in-bash" title="Permalink to this headline">¶</a></h2>
<p>ref: <a class="reference external" href="https://unix.stackexchange.com/questions/23111/what-is-the-eval-command-in-bash">What is the “eval” command in bash?</a></p>
<p>eval - construct command by concatenating arguments</p>
</div>
<div class="section" id="configuring-iptables-on-ubuntu-14-04">
<h2>Configuring Iptables on Ubuntu 14.04<a class="headerlink" href="#configuring-iptables-on-ubuntu-14-04" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">ref:</th><td class="field-body"><a class="reference external" href="https://www.upcloud.com/support/configuring-iptables-on-ubuntu-14-04/">https://www.upcloud.com/support/configuring-iptables-on-ubuntu-14-04/</a></td>
</tr>
</tbody>
</table>
<div class="section" id="save">
<h3>Save<a class="headerlink" href="#save" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo iptables-save &gt; /etc/iptables/rules.v4
</pre></div>
</div>
</div>
<div class="section" id="restore">
<h3>Restore<a class="headerlink" href="#restore" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Overwrite the current one</li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo iptables-restore &lt; /etc/iptables/rules.v4
</pre></div>
</div>
<ul class="simple">
<li>Add the new rules while keeping the current one</li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo iptables-restore -n &lt; /etc/iptables/rules.v4
</pre></div>
</div>
</div>
<div class="section" id="apply">
<h3>Apply<a class="headerlink" href="#apply" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo iptables-apply iptables.txt
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><code class="docutils literal notranslate"><span class="pre">iptables-apply</span></code> shall be used with <code class="docutils literal notranslate"><span class="pre">iptables.txt</span></code>
while <code class="docutils literal notranslate"><span class="pre">iptable-restore</span></code> shall be used with <code class="docutils literal notranslate"><span class="pre">rules.v4</span></code>
with the symbol of <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>.</p>
</div>
</div>
<div class="section" id="persistent-iptables">
<h3>Persistent Iptables<a class="headerlink" href="#persistent-iptables" title="Permalink to this headline">¶</a></h3>
<p>You can automate the restore process at the reboot by installing an  additional package for iptables which takes over the loading of the saved rules.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo apt-get install iptables-persistent
</pre></div>
</div>
<p>After the installation the initial setup will ask to save the current rules for IPv4 and IPv6, just select Yes and press enter for both.
If you make further changes to your iptables rules, remember to save them again using the same command as above. The iptables-persistent looks for the files rules.v4 and rules.v6 under /etc/iptables.</p>
</div>
<div class="section" id="how-to-solve-the-issue-of-filezilla-permission-denied">
<h3>How to solve the issue of Filezilla permission denied<a class="headerlink" href="#how-to-solve-the-issue-of-filezilla-permission-denied" title="Permalink to this headline">¶</a></h3>
<p>To allow user <code class="docutils literal notranslate"><span class="pre">ubuntu</span></code> write access to the remote root directory, enter those commands via terminals as root user <code class="docutils literal notranslate"><span class="pre">sudo</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo chown -R ubuntu /etc/supervisor
<span class="c1"># make sure permissions on that entire folder were correct:</span>
$ sudo chmod -R <span class="m">755</span> /etc/supervisor
</pre></div>
</div>
</div>
<div class="section" id="give-specific-user-permission-to-write-to-a-folder-using-w-notation">
<h3>Give specific user permission to write to a folder using +w notation<a class="headerlink" href="#give-specific-user-permission-to-write-to-a-folder-using-w-notation" title="Permalink to this headline">¶</a></h3>
<p>ref: <a class="reference external" href="https://askubuntu.com/questions/487527/give-specific-user-permission-to-write-to-a-folder-using-w-notation">https://askubuntu.com/questions/487527/give-specific-user-permission-to-write-to-a-folder-using-w-notation</a></p>
<p>If you want to change the user owning this file or
directory (folder), you will have to use the command
<code class="docutils literal notranslate"><span class="pre">chown</span></code>. For instance, if you run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo chown username: myfolder/file
</pre></div>
</div>
<p>the user owning myfolder will be the username. Then you can execute</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo chmod u+w myfolder
</pre></div>
</div>
<p>to add the write permission to the username user.</p>
</div>
</div>
<div class="section" id="tar-compress">
<h2>tar compress<a class="headerlink" href="#tar-compress" title="Permalink to this headline">¶</a></h2>
<div class="section" id="basics">
<h3>Basics<a class="headerlink" href="#basics" title="Permalink to this headline">¶</a></h3>
<p><strong>compress</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> /path/to/the/folder/directory
<span class="c1"># e.g., if you want to compress folder of `myProj`, its path is `/home/ubuntu/myProj`, then you need to $ cd /home/ubuntu</span>
<span class="c1">#</span>
$ tar -zcvf name-of-archive.tar.gz foldername
<span class="c1"># e.g., $ tar -zcvf myProj.tar.gz myproj</span>
<span class="c1"># the compressed tar ball will be in the /home/ubuntu/ directory</span>
<span class="c1">#</span>
$ tar -zcvf /tmp/myProj.tar.gz foldername
<span class="c1"># the compressed tar ball will be in the /tmp/ directory</span>
</pre></div>
</div>
<p><strong>extract</strong>
.. code-block:: bash</p>
<blockquote>
<div>$ tar -zxvf archive.tar.gz</div></blockquote>
<p>Notice that it must be a capital letter c.</p>
<p>If you want to extract files to a specified directry, you can use: <cite>$ tar -zxvf archive.tar.gz -C /tmp</cite></p>
</div>
<div class="section" id="advanced">
<h3>Advanced<a class="headerlink" href="#advanced" title="Permalink to this headline">¶</a></h3>
<p>Exclude files matching patterns listed in <cite>exclude.txt</cite></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ touch exclude.txt
$ vim exclude.txt
<span class="c1"># press I button and type somthing</span>
<span class="c1"># press esc button and : button, then type x, then press enter to save and exit vim</span>
<span class="c1"># the file will be something like:</span>
<span class="c1">#</span>
<span class="c1"># abc</span>
<span class="c1"># xyz</span>
<span class="c1"># *.bak</span>
<span class="c1"># backup2017*.sql</span>
<span class="c1">#</span>

$ tar -zcvf /tmp/mybak.tar.gz -X exclude.txt /home/me
</pre></div>
</div>
</div>
</div>
<div class="section" id="download-upload-files-from-to-server">
<h2>Download/Upload files from/to server<a class="headerlink" href="#download-upload-files-from-to-server" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># download: remote -&gt; local</span>
$ scp user@remote_host:remote_file local_file

<span class="c1"># upload: local -&gt; remote</span>
$ scp local_file user@remote_host:remote_file

<span class="c1"># ***************** Detailed Example *******************</span>
<span class="c1"># ******************************************************</span>
<span class="c1">#</span>
<span class="c1">### --&gt; Download:</span>
<span class="c1">#</span>
$ scp root@zwap:/tmp/pl.sql ~/Downloads/pl.sql
<span class="c1">#</span>
<span class="c1">### --&gt; Upload:</span>
<span class="c1">#</span>
$ scp ~/Downloads/pl.sql ubuntu@zwap_server_on_iMac:/tmp/pl.sql
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1"># ******************************************************</span>

<span class="c1"># ----&gt; example</span>
$ scp -i ~/.ssh/myprivatekey root@www.mywebsite.com:/home/ubuntu/example.sql /tmp/example.sql
<span class="c1"># if you have `~/.ssh/config` file configured</span>
$ scp mywebsite:/home/ubuntu/example.sql /tmp/example.sql
</pre></div>
</div>
</div>
<div class="section" id="what-is-the-difference-between-bash-profile-and-bashrc">
<h2>what is the difference between .bash_profile and .bashrc<a class="headerlink" href="#what-is-the-difference-between-bash-profile-and-bashrc" title="Permalink to this headline">¶</a></h2>
<p>ref: <a class="reference external" href="https://apple.stackexchange.com/questions/51036/what-is-the-difference-between-bash-profile-and-bashrc">What is the difference between .bash_profile and .bashrc?</a></p>
<p><code class="docutils literal notranslate"><span class="pre">.bash_profile</span></code> is executed for login shells, while <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> is executed for interactive non-login shells.</p>
<p>When you login (type username and password) via console, either sitting at the machine, or remotely via ssh: .bash_profile is executed to configure your shell before the initial command prompt.</p>
<p>But, if you’ve already logged into your machine and open a new terminal window (xterm) then <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> is executed before the window command prompt. <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> is also run when you start a new bash instance by typing <code class="docutils literal notranslate"><span class="pre">/bin/bash</span></code> in a terminal.</p>
<p>On OS X, Terminal by default runs a login shell every time, so this is a little different to most other systems, but you can configure that in the preferences.</p>
</div>
<div class="section" id="how-to-execute-a-bash-script-at-system-startup-shutdown-reboot">
<h2>How to execute a bash script at system Startup/Shutdown/Reboot<a class="headerlink" href="#how-to-execute-a-bash-script-at-system-startup-shutdown-reboot" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">ref:</th><td class="field-body"><a class="reference external" href="http://www.upubuntu.com/2015/08/how-to-executerun-bash-script-at-system.html">http://www.upubuntu.com/2015/08/how-to-executerun-bash-script-at-system.html</a></td>
</tr>
</tbody>
</table>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">+x</span> <span class="pre">script_file</span></code> can turn your script executable</li>
<li>if you want to run a bash script at system startup, go edit <code class="docutils literal notranslate"><span class="pre">/etc/rc.local</span></code></li>
<li>if you want to run a script at system reboot, go put it in <code class="docutils literal notranslate"><span class="pre">/etc/rc0.d</span></code></li>
<li>if you want to run a script at system shutdown, go put it in <code class="docutils literal notranslate"><span class="pre">/etc/rc6.d</span></code></li>
</ol>
</div>
<div class="section" id="check-the-size-of-a-folder">
<h2>Check the size of a folder<a class="headerlink" href="#check-the-size-of-a-folder" title="Permalink to this headline">¶</a></h2>
<p>ref: <a class="reference external" href="https://unix.stackexchange.com/questions/185764/how-do-i-get-the-size-of-a-directory-on-the-command-line">https://unix.stackexchange.com/questions/185764/how-do-i-get-the-size-of-a-directory-on-the-command-line</a></p>
<p>Jump to the directory, type: <code class="docutils literal notranslate"><span class="pre">du</span> <span class="pre">-sh</span></code> and wait for results.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="zsh-shell.html" class="btn btn-neutral float-right" title="Zsh Shell" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="mac.html" class="btn btn-neutral" title="Mac" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2018, Pharrell.zx WANG.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'latest',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>