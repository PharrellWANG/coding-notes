

<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Ubuntu &mdash; Coding Notes latest documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/aliwang-custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="SSH" href="ssh.html" />
    <link rel="prev" title="Mac" href="mac.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> Coding Notes
          

          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">AI</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../ai/deep-learning.html">Deep Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ai/tensorflow.html">Tensorflow</a></li>
</ul>
<p class="caption"><span class="caption-text">Unix</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="android.html">Android</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="mac.html">Mac</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Ubuntu</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#utilities">Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#permanently-add-global-environment-variables">Permanently add global environment variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#delete-a-large-amount-of-files">Delete a large amount of files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#print-directory-in-terminal">Print directory in terminal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#find">find</a></li>
<li class="toctree-l3"><a class="reference internal" href="#disown">disown</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rsync">rsync</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-use-sha256sum">How to use SHA256SUM</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-update-ubuntu-packages-on-18-04-bionic-beaver-linux">How to update ubuntu packages on 18.04 Bionic Beaver Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="#check-cpu-ram">check cpu ram</a></li>
<li class="toctree-l2"><a class="reference internal" href="#check-version">Check Version</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#old-school">old school</a></li>
<li class="toctree-l3"><a class="reference internal" href="#new">new</a></li>
<li class="toctree-l3"><a class="reference internal" href="#check-disk-space">Check disk space</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#install-latex-on-ubuntu">Install latex on ubuntu</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cat-in-ubuntu">cat in Ubuntu</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-copy-filename-or-current-working-dir-to-clipboard">How to copy filename or current working dir to clipboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-set-static-ip-address-for-ubuntu-server-16-4-and-do-port-forwarding">How to set static ip address for ubuntu server 16.4 and do port forwarding</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-enable-remote-ssh">How to enable remote ssh</a></li>
<li class="toctree-l2"><a class="reference internal" href="#permission-denied-publickey">Permission denied (publickey)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#for-ssh">for ssh</a></li>
<li class="toctree-l3"><a class="reference internal" href="#for-git-pull">for git pull</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ssh-add">ssh-add</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-is-the-eval-command-in-bash">what is the eval command in bash</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuring-iptables-on-ubuntu-14-04">Configuring Iptables on Ubuntu 14.04</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#save">Save</a></li>
<li class="toctree-l3"><a class="reference internal" href="#restore">Restore</a></li>
<li class="toctree-l3"><a class="reference internal" href="#apply">Apply</a></li>
<li class="toctree-l3"><a class="reference internal" href="#persistent-iptables">Persistent Iptables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-to-solve-the-issue-of-filezilla-permission-denied">How to solve the issue of Filezilla permission denied</a></li>
<li class="toctree-l3"><a class="reference internal" href="#give-specific-user-permission-to-write-to-a-folder-using-w-notation">Give specific user permission to write to a folder using +w notation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tar-compress">tar compress</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#basics">Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#advanced">Advanced</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#show-progress">Show progress</a></li>
<li class="toctree-l4"><a class="reference internal" href="#exclude-files-when-extracting">Exclude Files When Extracting</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#download-upload-files-from-to-server">Download/Upload files from/to server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-is-the-difference-between-bash-profile-and-bashrc">what is the difference between .bash_profile and .bashrc</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-execute-a-bash-script-at-system-startup-shutdown-reboot">How to execute a bash script at system Startup/Shutdown/Reboot</a></li>
<li class="toctree-l2"><a class="reference internal" href="#check-the-size-of-a-folder">Check the size of a folder</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-ubuntu-18-04-1-lts-with-kernel-4-19">Install Ubuntu 18.04.1 LTS with Kernel 4.19</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ssh.html">SSH</a></li>
<li class="toctree-l1"><a class="reference internal" href="zsh-shell.html">Zsh Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="supervisor.html">Supervisor</a></li>
<li class="toctree-l1"><a class="reference internal" href="ports.html">Ports</a></li>
<li class="toctree-l1"><a class="reference internal" href="git.html">Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="svn.html">SVN</a></li>
<li class="toctree-l1"><a class="reference internal" href="anaconda.html">Anaconda</a></li>
<li class="toctree-l1"><a class="reference internal" href="vim.html">Vim</a></li>
<li class="toctree-l1"><a class="reference internal" href="htcondor.html">HTCondor</a></li>
<li class="toctree-l1"><a class="reference internal" href="opencv.html">OpenCV</a></li>
<li class="toctree-l1"><a class="reference internal" href="input-method.html">Input Method</a></li>
</ul>
<p class="caption"><span class="caption-text">Video Coding</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../videocoding/ffmpeg.html">ffmpeg</a></li>
</ul>
<p class="caption"><span class="caption-text">Web Dev</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../webdev/frontend-node.html">Node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webdev/frontend-npm.html">NPM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webdev/frontend-react-redux.html">React &amp; Redux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webdev/backend-django.html">Django</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webdev/backend-drf.html">Django Rest Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webdev/backend-psql.html">PostgreSQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webdev/backend-dot.html">Django OAuth Toolkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webdev/nginx.html">Nginx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webdev/http.html">HTTP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webdev/ssl.html">Secure Sockets Layer (SSL/TLS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../webdev/internet.html">Internet</a></li>
</ul>
<p class="caption"><span class="caption-text">Write the Docs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dt/sphinx-get-started.html">Sphinx Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dt/sphinx-how-to.html">Sphinx How To</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dt/markdown.html">Markdown How To</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dt/gitbook.html">GitBook How To</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dt/mkdocs.html">MkDocs</a></li>
</ul>
<p class="caption"><span class="caption-text">Coding Languages</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../colan/python.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../colan/cpp.html">Cpp</a></li>
</ul>
<p class="caption"><span class="caption-text">Windows</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../win/windows.html">Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../win/proxy.html">Proxy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tmp_info.html">Temporary stuff</a></li>
</ul>
<p class="caption"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/keymaps.html">Keymaps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc/pgp.html">PGP</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Coding Notes</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Ubuntu</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ubuntu">
<h1>Ubuntu<a class="headerlink" href="#ubuntu" title="Permalink to this headline">¶</a></h1>
<div class="section" id="utilities">
<h2>Utilities<a class="headerlink" href="#utilities" title="Permalink to this headline">¶</a></h2>
<div class="section" id="permanently-add-global-environment-variables">
<h3>Permanently add global environment variables<a class="headerlink" href="#permanently-add-global-environment-variables" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo vim /etc/environment
</pre></div>
</div>
<p>Then add your env var.</p>
</div>
<div class="section" id="delete-a-large-amount-of-files">
<h3>Delete a large amount of files<a class="headerlink" href="#delete-a-large-amount-of-files" title="Permalink to this headline">¶</a></h3>
<p>When using <code class="docutils literal notranslate"><span class="pre">rm</span> <span class="pre">-rf</span></code> to remote a large amount of files/dirs in a directory,
you might receive the error of <code class="docutils literal notranslate"><span class="pre">argument</span> <span class="pre">list</span> <span class="pre">too</span> <span class="pre">long</span></code> error.</p>
<p>Solution:
use <code class="docutils literal notranslate"><span class="pre">rsync</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ mkdir empty_dir
$ rsync -a --delete empty_dir/ dir_to_del/
</pre></div>
</div>
</div>
<div class="section" id="print-directory-in-terminal">
<h3>Print directory in terminal<a class="headerlink" href="#print-directory-in-terminal" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">find</span> <span class="pre">.</span> <span class="pre">-type</span> <span class="pre">d</span> <span class="pre">|</span> <span class="pre">sed</span> <span class="pre">-e</span> <span class="pre">&quot;s/[^-][^\/]*\//</span>&#160; <span class="pre">|/g&quot;</span> <span class="pre">-e</span> <span class="pre">&quot;s/|\([^</span> <span class="pre">]\)/|-\1/&quot;</span></code></p>
<p>This command will search recursively for directories inside the parent directory and then draw the tree of the founded directories.</p>
<p>You may also try the following to include all of the files as well.</p>
<p><code class="docutils literal notranslate"><span class="pre">find</span> <span class="pre">|</span> <span class="pre">sed</span> <span class="pre">'s|[^/]*/|-</span> <span class="pre">|g'</span></code></p>
</div>
<div class="section" id="find">
<h3>find<a class="headerlink" href="#find" title="Permalink to this headline">¶</a></h3>
<p>User <code class="docutils literal notranslate"><span class="pre">find</span></code> to find files recursively by file type and copy them to a directory.</p>
<p>Folder <code class="docutils literal notranslate"><span class="pre">Enc</span></code> has two sub folders: <code class="docutils literal notranslate"><span class="pre">HM</span></code> and <code class="docutils literal notranslate"><span class="pre">csv</span></code>. You can use below method
to collect all the csv files inside <code class="docutils literal notranslate"><span class="pre">HM</span></code> into <code class="docutils literal notranslate"><span class="pre">csv</span></code> folder:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> Enc/HM
$ find . -name <span class="s2">&quot;*.csv&quot;</span> -type f -exec cp <span class="o">{}</span> ../csv/ <span class="se">\;</span>
</pre></div>
</div>
<p>Done.</p>
</div>
<div class="section" id="disown">
<h3>disown<a class="headerlink" href="#disown" title="Permalink to this headline">¶</a></h3>
<p>Use <code class="docutils literal notranslate"><span class="pre">disown</span></code> to keep process running after ending ssh session
<a class="reference external" href="https://askubuntu.com/questions/8653/how-to-keep-processes-running-after-ending-ssh-session">Reference</a></p>
<ol class="arabic simple">
<li><p>ssh [server];</p></li>
<li><p>command;</p></li>
<li><p>CTRL + Z;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bg</span></code>;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">disown</span></code>;</p></li>
<li><p>exit.</p></li>
</ol>
<p>Done.</p>
</div>
<div class="section" id="rsync">
<h3>rsync<a class="headerlink" href="#rsync" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>rsync – a fast, versatile, remote (and local) file-copying tool</p>
</div>
<p>Example usage:</p>
<p><strong>Usage #1</strong>: Use <code class="docutils literal notranslate"><span class="pre">rsync</span></code> to <em>locally</em> copy folders and optionally omit some files/folders.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ rsync -av --progress HM HM-COPY --exclude *.yuv --exclude *.bin
</pre></div>
</div>
<p>or</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ rsync -av --progress Orig ../PA --exclude *.yuv --exclude *.bin --exclude *.txt
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If folder <code class="docutils literal notranslate"><span class="pre">PA</span></code> does not exist before you execute the command above, you need to <code class="docutils literal notranslate"><span class="pre">mkdir</span> <span class="pre">PA</span></code> first.
<code class="docutils literal notranslate"><span class="pre">rsync</span></code> will not help you create directory.</p>
</div>
<p>Explain:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-v</span></code> means `` -v, –verbose               increase verbosity``</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-a</span></code> is the archive mode, it includes lots of modes, see <a class="reference external" href="https://superuser.com/questions/1322108/when-is-av-not-the-appropriate-option-for-rsync">here</a> for more.</p></li>
<li><p><strong>HM</strong> is the source folder.</p></li>
<li><p><strong>HM-COPY</strong> is the destination folder, if it does not exist, it will be created.</p></li>
<li><p>If we do not specify the full path, <strong>HM-COPY</strong> will be created in the current working directory.</p></li>
<li><p>You can use <code class="docutils literal notranslate"><span class="pre">--exclude</span></code> multiple times, you can also just use it once.</p></li>
</ol>
<p><strong>Usage #2</strong>: Use <code class="docutils literal notranslate"><span class="pre">rsync</span></code> to <em>remotely</em> push/pull files/folders.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ rsync -av --progress &lt;user-name&gt;@&lt;host-ip&gt;:/home/&lt;user-name&gt;/&lt;folder-to-copy&gt; /Users/&lt;user-name&gt;/Downloads
</pre></div>
</div>
<p>&lt;folder-to-copy&gt; will be copied to <code class="docutils literal notranslate"><span class="pre">Downloads</span></code> folder.</p>
<p>See <a class="reference external" href="https://linux.die.net/man/1/rsync">rsync manual page</a>.</p>
</div>
</div>
<div class="section" id="how-to-use-sha256sum">
<h2>How to use SHA256SUM<a class="headerlink" href="#how-to-use-sha256sum" title="Permalink to this headline">¶</a></h2>
<p>Suppose now you have a directory, inside which you have several binary data files.
You need to transfer those files via internet, and you want to verify the integrity of data files after transfer.</p>
<p>Here the solution:</p>
<p>First, export SHA256SUM file in your local machine:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> path-to-your-dir
sha256sum -b * &gt; SHA256SUM  <span class="c1"># This will generate a file named SHA256SUM</span>
<span class="c1"># You can checkout the contents of the generated file using</span>
cat SHA256SUM
</pre></div>
</div>
<p>Second, after transfer finishes, verify your data files against the SHA256SUM file.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> path-to-your-dir-on-remote-machine-after-transfer
sha256sum -c SHA256SUM
</pre></div>
</div>
</div>
<div class="section" id="how-to-update-ubuntu-packages-on-18-04-bionic-beaver-linux">
<h2>How to update ubuntu packages on 18.04 Bionic Beaver Linux<a class="headerlink" href="#how-to-update-ubuntu-packages-on-18-04-bionic-beaver-linux" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo apt update
$ sudo apt list --upgradable
$ sudo apt upgrade
$ sudo apt dist-upgrade
$ sudo apt autoremove
</pre></div>
</div>
<p>or <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">update</span> <span class="pre">&amp;&amp;</span> <span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">list</span> <span class="pre">--upgradable</span> <span class="pre">&amp;&amp;</span> <span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">upgrade</span> <span class="pre">&amp;&amp;</span> <span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">dist-upgrade</span> <span class="pre">&amp;&amp;</span> <span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">autoremove</span></code></p>
</div>
<div class="section" id="check-cpu-ram">
<h2>check cpu ram<a class="headerlink" href="#check-cpu-ram" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">/proc/meminfo</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">/proc/cpuinfo</span></code></p>
</div>
<div class="section" id="check-version">
<h2>Check Version<a class="headerlink" href="#check-version" title="Permalink to this headline">¶</a></h2>
<div class="section" id="old-school">
<h3>old school<a class="headerlink" href="#old-school" title="Permalink to this headline">¶</a></h3>
<p>The below terminal command can help you check the ubuntu release version.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ lsb_release -a
</pre></div>
</div>
</div>
<div class="section" id="new">
<h3>new<a class="headerlink" href="#new" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cat /etc/os-release
</pre></div>
</div>
</div>
<div class="section" id="check-disk-space">
<h3>Check disk space<a class="headerlink" href="#check-disk-space" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>type <cite>df -h</cite> in terminal</p></li>
<li><p>check a folder</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ du -h /usr/local/texlive/2016/
</pre></div>
</div>
</div>
</div>
<div class="section" id="install-latex-on-ubuntu">
<h2>Install latex on ubuntu<a class="headerlink" href="#install-latex-on-ubuntu" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">texlive-full</span></code></p>
</div>
<div class="section" id="cat-in-ubuntu">
<h2>cat in Ubuntu<a class="headerlink" href="#cat-in-ubuntu" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">ref</dt>
<dd class="field-odd"><p><a class="reference external" href="https://www.tecmint.com/13-basic-cat-command-examples-in-linux/">https://www.tecmint.com/13-basic-cat-command-examples-in-linux/</a></p>
</dd>
</dl>
<p>Use <code class="docutils literal notranslate"><span class="pre">cat</span></code> to get the contents into a txt file.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo cat /etc/network/interfaces &gt; /tmp/net.txt
</pre></div>
</div>
</div>
<div class="section" id="how-to-copy-filename-or-current-working-dir-to-clipboard">
<h2>How to copy filename or current working dir to clipboard<a class="headerlink" href="#how-to-copy-filename-or-current-working-dir-to-clipboard" title="Permalink to this headline">¶</a></h2>
<p>First install <strong>xclip</strong>: <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">xclip</span></code>.</p>
<p>Then inside <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code>, add</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">alias</span> <span class="nv">pbcopy</span><span class="o">=</span><span class="s1">&#39;xclip -selection clipboard&#39;</span>
$ <span class="nb">alias</span> <span class="nv">pbpaste</span><span class="o">=</span><span class="s1">&#39;xclip -selection clipboard -o&#39;</span>
</pre></div>
</div>
<p>After the above two steps, you can</p>
<ol class="arabic simple">
<li><p>copy filename to clipboard: <code class="docutils literal notranslate"><span class="pre">ls</span> <span class="pre">&lt;filename.ext&gt;</span> <span class="pre">|</span> <span class="pre">pbcopy</span></code>, paste to somewhere <code class="docutils literal notranslate"><span class="pre">pbpaste</span></code>.</p></li>
<li><p>copy current working directory to clipboard: <code class="docutils literal notranslate"><span class="pre">echo</span> <span class="pre">$PWD</span> <span class="pre">|</span> <span class="pre">pbcopy</span></code>, paste to somewhere <code class="docutils literal notranslate"><span class="pre">pbpaste</span></code>.</p></li>
</ol>
</div>
<div class="section" id="how-to-set-static-ip-address-for-ubuntu-server-16-4-and-do-port-forwarding">
<h2>How to set static ip address for ubuntu server 16.4 and do port forwarding<a class="headerlink" href="#how-to-set-static-ip-address-for-ubuntu-server-16-4-and-do-port-forwarding" title="Permalink to this headline">¶</a></h2>
<p>Find an existing vm ubuntu server, use the <code class="docutils literal notranslate"><span class="pre">net.txt</span></code> that you get from the above step.
And type the contents in that <code class="docutils literal notranslate"><span class="pre">net.txt</span></code> file to the <code class="docutils literal notranslate"><span class="pre">/etc/network/interfaces</span></code>. <strong>Then shutdown the vm, refresh the mac address</strong> for several times.</p>
<p>An example provided for downloading:</p>
<p><a class="reference download internal" download="" href="../../_downloads/6138df6327c08c59b435aeeb3dcead1f/net.txt"><code class="xref download docutils literal notranslate"><span class="pre">network/interfaces</span></code></a></p>
<p>At this time you can ask the network administrator to help do the port forwarding.</p>
<p>You need to provide:</p>
<ol class="arabic simple">
<li><p>static ip: e.g., 192.168.0.157 (maybe mac address also needed)</p></li>
<li><p>local port 8080 mapping to the public port 8080 [or other ports]</p></li>
</ol>
</div>
<div class="section" id="how-to-enable-remote-ssh">
<h2>How to enable remote ssh<a class="headerlink" href="#how-to-enable-remote-ssh" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">ref</dt>
<dd class="field-odd"><p><a class="reference external" href="https://help.ubuntu.com/lts/serverguide/openssh-server.html">https://help.ubuntu.com/lts/serverguide/openssh-server.html</a></p>
</dd>
<dt class="field-even">ref</dt>
<dd class="field-even"><p><a class="reference external" href="https://help.ubuntu.com/community/SSH/OpenSSH/Configuring">https://help.ubuntu.com/community/SSH/OpenSSH/Configuring</a></p>
</dd>
</dl>
<p><strong>Remember to change the network adapter to ``Bridged`` instead of ``NAT``.</strong></p>
<p>If you want quick remote access using password only:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo nano /etc/ssh/sshd_config
</pre></div>
</div>
<p>Then uncomment this line of codes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#PasswordAuthentication yes</span>
</pre></div>
</div>
<p>Then restart ssh:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo restart ssh
</pre></div>
</div>
<p>If you get the error, “Unable to connect to Upstart”, restart ssh with the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo systemctl restart ssh
</pre></div>
</div>
<p>If you want to use key pair auth, please refer to links above.</p>
</div>
<div class="section" id="permission-denied-publickey">
<h2>Permission denied (publickey)<a class="headerlink" href="#permission-denied-publickey" title="Permalink to this headline">¶</a></h2>
<div class="section" id="for-ssh">
<h3>for ssh<a class="headerlink" href="#for-ssh" title="Permalink to this headline">¶</a></h3>
<p>If you see a warning like <code class="docutils literal notranslate"><span class="pre">Permission</span> <span class="pre">denied</span> <span class="pre">(publickey)</span></code>, try to supply
private key.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ssh root@www.mywebsite.com
<span class="c1"># Permission denied (publickey).</span>

$ ssh -i ~/.ssh/my_private_key root@www.mywebsite.com
<span class="c1"># success!</span>
</pre></div>
</div>
<p>Or if you can configure <code class="docutils literal notranslate"><span class="pre">~/.ssh/config</span></code> file, based on your configuration,
you can directly type <code class="docutils literal notranslate"><span class="pre">ssh</span> <span class="pre">mywebsite</span></code>.</p>
</div>
<div class="section" id="for-git-pull">
<h3>for git pull<a class="headerlink" href="#for-git-pull" title="Permalink to this headline">¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">ref</dt>
<dd class="field-odd"><p><a class="reference external" href="https://confluence.atlassian.com/bitbucket/troubleshoot-ssh-issues-271943403.html">https://confluence.atlassian.com/bitbucket/troubleshoot-ssh-issues-271943403.html</a></p>
</dd>
</dl>
<p>if you see <code class="docutils literal notranslate"><span class="pre">Permission</span> <span class="pre">denied(publickey)</span></code> when doing git pull,
please first type</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">eval</span> <span class="sb">`</span>ssh-agent<span class="sb">`</span>
</pre></div>
</div>
<p>in the terminal to
start <a class="reference external" href="https://linux.die.net/man/1/ssh-agent">ssh agent</a>,
which is the authentication agent.</p>
<p>Then you can use <code class="docutils literal notranslate"><span class="pre">ssh-add</span> <span class="pre">~/.ssh/&lt;private_key_file&gt;</span></code> to add your keys.</p>
</div>
</div>
<div class="section" id="ssh-add">
<h2>ssh-add<a class="headerlink" href="#ssh-add" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://stackoverflow.com/questions/17846529/could-not-open-a-connection-to-your-authentication-agent">Could not open a connection to your authentication agent</a></p>
<p>If you cannot successfully perform <code class="docutils literal notranslate"><span class="pre">ssh-add</span></code>, you can do this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">eval</span> <span class="sb">`</span>ssh-agent -s<span class="sb">`</span>
$ ssh-add
</pre></div>
</div>
</div>
<div class="section" id="what-is-the-eval-command-in-bash">
<h2>what is the eval command in bash<a class="headerlink" href="#what-is-the-eval-command-in-bash" title="Permalink to this headline">¶</a></h2>
<p>ref: <a class="reference external" href="https://unix.stackexchange.com/questions/23111/what-is-the-eval-command-in-bash">What is the “eval” command in bash?</a></p>
<p>eval - construct command by concatenating arguments</p>
</div>
<div class="section" id="configuring-iptables-on-ubuntu-14-04">
<h2>Configuring Iptables on Ubuntu 14.04<a class="headerlink" href="#configuring-iptables-on-ubuntu-14-04" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">ref</dt>
<dd class="field-odd"><p><a class="reference external" href="https://www.upcloud.com/support/configuring-iptables-on-ubuntu-14-04/">https://www.upcloud.com/support/configuring-iptables-on-ubuntu-14-04/</a></p>
</dd>
</dl>
<div class="section" id="save">
<h3>Save<a class="headerlink" href="#save" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo iptables-save &gt; /etc/iptables/rules.v4
</pre></div>
</div>
</div>
<div class="section" id="restore">
<h3>Restore<a class="headerlink" href="#restore" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Overwrite the current one</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo iptables-restore &lt; /etc/iptables/rules.v4
</pre></div>
</div>
<ul class="simple">
<li><p>Add the new rules while keeping the current one</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo iptables-restore -n &lt; /etc/iptables/rules.v4
</pre></div>
</div>
</div>
<div class="section" id="apply">
<h3>Apply<a class="headerlink" href="#apply" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo iptables-apply iptables.txt
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">iptables-apply</span></code> shall be used with <code class="docutils literal notranslate"><span class="pre">iptables.txt</span></code>
while <code class="docutils literal notranslate"><span class="pre">iptable-restore</span></code> shall be used with <code class="docutils literal notranslate"><span class="pre">rules.v4</span></code>
with the symbol of <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>.</p>
</div>
</div>
<div class="section" id="persistent-iptables">
<h3>Persistent Iptables<a class="headerlink" href="#persistent-iptables" title="Permalink to this headline">¶</a></h3>
<p>You can automate the restore process at the reboot by installing an  additional package for iptables which takes over the loading of the saved rules.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo apt-get install iptables-persistent
</pre></div>
</div>
<p>After the installation the initial setup will ask to save the current rules for IPv4 and IPv6, just select Yes and press enter for both.
If you make further changes to your iptables rules, remember to save them again using the same command as above. The iptables-persistent looks for the files rules.v4 and rules.v6 under /etc/iptables.</p>
</div>
<div class="section" id="how-to-solve-the-issue-of-filezilla-permission-denied">
<h3>How to solve the issue of Filezilla permission denied<a class="headerlink" href="#how-to-solve-the-issue-of-filezilla-permission-denied" title="Permalink to this headline">¶</a></h3>
<p>To allow user <code class="docutils literal notranslate"><span class="pre">ubuntu</span></code> write access to the remote root directory, enter those commands via terminals as root user <code class="docutils literal notranslate"><span class="pre">sudo</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ sudo chown -R ubuntu /etc/supervisor
<span class="c1"># make sure permissions on that entire folder were correct:</span>
$ sudo chmod -R <span class="m">755</span> /etc/supervisor
</pre></div>
</div>
</div>
<div class="section" id="give-specific-user-permission-to-write-to-a-folder-using-w-notation">
<h3>Give specific user permission to write to a folder using +w notation<a class="headerlink" href="#give-specific-user-permission-to-write-to-a-folder-using-w-notation" title="Permalink to this headline">¶</a></h3>
<p>ref: <a class="reference external" href="https://askubuntu.com/questions/487527/give-specific-user-permission-to-write-to-a-folder-using-w-notation">https://askubuntu.com/questions/487527/give-specific-user-permission-to-write-to-a-folder-using-w-notation</a></p>
<p>If you want to change the user owning this file or
directory (folder), you will have to use the command
<code class="docutils literal notranslate"><span class="pre">chown</span></code>. For instance, if you run</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo chown username: myfolder/file
</pre></div>
</div>
<p>the user owning myfolder will be the username. Then you can execute</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo chmod u+w myfolder
</pre></div>
</div>
<p>to add the write permission to the username user.</p>
</div>
</div>
<div class="section" id="tar-compress">
<h2>tar compress<a class="headerlink" href="#tar-compress" title="Permalink to this headline">¶</a></h2>
<div class="section" id="basics">
<h3>Basics<a class="headerlink" href="#basics" title="Permalink to this headline">¶</a></h3>
<p><strong>compress</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> /path/to/the/folder/directory
<span class="c1"># e.g., if you want to compress folder of `myProj`, its path is `/home/ubuntu/myProj`, then you need to $ cd /home/ubuntu</span>
<span class="c1">#</span>
$ tar -zcvf name-of-archive.tar.gz foldername
<span class="c1"># e.g., $ tar -zcvf myProj.tar.gz myproj</span>
<span class="c1"># the compressed tar ball will be in the /home/ubuntu/ directory</span>
<span class="c1">#</span>
$ tar -zcvf /tmp/myProj.tar.gz foldername
<span class="c1"># the compressed tar ball will be in the /tmp/ directory</span>
</pre></div>
</div>
<p><strong>extract</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ tar -zxvf archive.tar.gz
<span class="c1"># If you want to extract files to a specified directry,</span>
<span class="c1"># you can use:</span>
$ tar -zxvf archive.tar.gz -C /tmp
<span class="c1"># Notice that it must be a capital letter c.</span>
</pre></div>
</div>
</div>
<div class="section" id="advanced">
<h3>Advanced<a class="headerlink" href="#advanced" title="Permalink to this headline">¶</a></h3>
<div class="section" id="show-progress">
<h4>Show progress<a class="headerlink" href="#show-progress" title="Permalink to this headline">¶</a></h4>
<p>Compressing and showing progress (tested on macos):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/sh</span>
<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1"># A shell script begins with a character combination that identifies it as</span>
<span class="c1"># a shell script — specifically the characters # and ! (together called a shebang)</span>
<span class="c1"># followed by a reference to the shell the script should be run with.</span>
<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1"># tar-compress-show-progress-macos</span>
<span class="c1"># usage example:</span>
<span class="c1"># to compress the folder located at ``/volumes/WD_2016/new_photos``</span>
<span class="c1"># $ cd /volumes/WD_2016 &amp;&amp; ~/sh/zip.sh new_photos /tmp</span>
<span class="c1"># the output will be ``/tmp/new_photos.tar.gz``</span>
<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="nv">FOLDER_TO_COMPRESS</span><span class="o">=</span><span class="nv">$1</span>
<span class="nv">DESTINATION_DIR</span><span class="o">=</span><span class="nv">$2</span>
tar cf - <span class="s2">&quot;</span><span class="nv">$FOLDER_TO_COMPRESS</span><span class="s2">&quot;</span> <span class="p">|</span> pv -s <span class="k">$(($(</span>du -sk <span class="s2">&quot;</span><span class="nv">$FOLDER_TO_COMPRESS</span><span class="s2">&quot;</span> <span class="p">|</span> awk <span class="s1">&#39;{print $1}&#39;</span><span class="k">)</span> <span class="o">*</span> <span class="m">1024</span><span class="k">))</span> <span class="p">|</span> gzip &gt; <span class="s2">&quot;</span><span class="nv">$DESTINATION_DIR</span><span class="s2">&quot;</span>/<span class="s2">&quot;</span><span class="nv">$FOLDER_TO_COMPRESS</span><span class="s2">&quot;</span>.tar.gz
</pre></div>
</div>
<p>Uncompressing and showing progress (tested on macos):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/sh</span>
<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1"># A shell script begins with a character combination that identifies it as</span>
<span class="c1"># a shell script — specifically the characters # and ! (together called a shebang)</span>
<span class="c1"># followed by a reference to the shell the script should be run with.</span>
<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1"># tar-extract-show-progress</span>
<span class="c1"># usage:</span>
<span class="c1"># extarct ``volumes/wd_2016/new_photos.tar.gz`` to ``volumes/wd_2016/specified_folder_name_for_new_photos_tarball``</span>
<span class="c1"># $ cd /volumes/wd_2016 &amp;&amp; ~/sh/unzip.sh new_photos.tar.gz specified_folder_name_for_new_photos_tarball</span>
<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="nv">TAR_BALL</span><span class="o">=</span><span class="nv">$1</span> <span class="o">&amp;&amp;</span> <span class="nv">FOLDER</span><span class="o">=</span><span class="nv">$2</span> <span class="o">&amp;&amp;</span> mkdir <span class="s2">&quot;</span><span class="nv">$FOLDER</span><span class="s2">&quot;</span> <span class="o">&amp;&amp;</span>
pv <span class="s2">&quot;</span><span class="nv">$TAR_BALL</span><span class="s2">&quot;</span> <span class="p">|</span> tar zxp -C <span class="s2">&quot;</span><span class="nv">$FOLDER</span><span class="s2">&quot;</span> --strip-components<span class="o">=</span><span class="m">1</span>
<span class="c1"># -------------------------------------------------------------------------------</span>
<span class="c1"># Explanation</span>
<span class="c1">#</span>
<span class="c1"># The -C flag assumes a directory is already in place so the contents of the</span>
<span class="c1"># tar file can be expanded into it. hence the mkdir FOLDER.</span>
<span class="c1">#</span>
<span class="c1"># The --strip-components flag is used when a tar file would naturally expand</span>
<span class="c1"># itself into a folder, let say, like github where it examples to repo-name-master</span>
<span class="c1"># folder. Of course you wouldn’t need the first level folder generated here so</span>
<span class="c1"># --strip-components set to 1 would automatically remove that first folder for you.</span>
<span class="c1"># The larger the number is set the deeper nested folders are removed.</span>
</pre></div>
</div>
</div>
<div class="section" id="exclude-files-when-extracting">
<h4>Exclude Files When Extracting<a class="headerlink" href="#exclude-files-when-extracting" title="Permalink to this headline">¶</a></h4>
<p>Exclude files matching patterns listed in <cite>exclude.txt</cite></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ touch exclude.txt
$ vim exclude.txt
<span class="c1"># press I button and type somthing</span>
<span class="c1"># press esc button and : button, then type x, then press enter to save and exit vim</span>
<span class="c1"># the file will be something like:</span>
<span class="c1">#</span>
<span class="c1"># abc</span>
<span class="c1"># xyz</span>
<span class="c1"># *.bak</span>
<span class="c1"># backup2017*.sql</span>
<span class="c1">#</span>

$ tar -zcvf /tmp/mybak.tar.gz -X exclude.txt /home/me
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="download-upload-files-from-to-server">
<h2>Download/Upload files from/to server<a class="headerlink" href="#download-upload-files-from-to-server" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># download: remote -&gt; local</span>
$ scp user@remote_host:remote_file local_file

<span class="c1"># upload: local -&gt; remote</span>
$ scp local_file user@remote_host:remote_file

<span class="c1"># ***************** Detailed Example *******************</span>
<span class="c1"># ******************************************************</span>
<span class="c1">#</span>
<span class="c1">### --&gt; Download:</span>
<span class="c1">#</span>
$ scp root@zwap:/tmp/pl.sql ~/Downloads/pl.sql
<span class="c1">#</span>
<span class="c1">### --&gt; Upload:</span>
<span class="c1">#</span>
$ scp ~/Downloads/pl.sql ubuntu@zwap_server_on_iMac:/tmp/pl.sql
<span class="c1">#</span>
<span class="c1">#</span>
<span class="c1"># ******************************************************</span>

<span class="c1"># ----&gt; example</span>
$ scp -i ~/.ssh/myprivatekey root@www.mywebsite.com:/home/ubuntu/example.sql /tmp/example.sql
<span class="c1"># if you have `~/.ssh/config` file configured</span>
$ scp mywebsite:/home/ubuntu/example.sql /tmp/example.sql
</pre></div>
</div>
</div>
<div class="section" id="what-is-the-difference-between-bash-profile-and-bashrc">
<h2>what is the difference between .bash_profile and .bashrc<a class="headerlink" href="#what-is-the-difference-between-bash-profile-and-bashrc" title="Permalink to this headline">¶</a></h2>
<p>ref: <a class="reference external" href="https://apple.stackexchange.com/questions/51036/what-is-the-difference-between-bash-profile-and-bashrc">What is the difference between .bash_profile and .bashrc?</a></p>
<p><code class="docutils literal notranslate"><span class="pre">.bash_profile</span></code> is executed for login shells, while <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> is executed for interactive non-login shells.</p>
<p>When you login (type username and password) via console, either sitting at the machine, or remotely via ssh: .bash_profile is executed to configure your shell before the initial command prompt.</p>
<p>But, if you’ve already logged into your machine and open a new terminal window (xterm) then <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> is executed before the window command prompt. <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> is also run when you start a new bash instance by typing <code class="docutils literal notranslate"><span class="pre">/bin/bash</span></code> in a terminal.</p>
<p>On OS X, Terminal by default runs a login shell every time, so this is a little different to most other systems, but you can configure that in the preferences.</p>
</div>
<div class="section" id="how-to-execute-a-bash-script-at-system-startup-shutdown-reboot">
<h2>How to execute a bash script at system Startup/Shutdown/Reboot<a class="headerlink" href="#how-to-execute-a-bash-script-at-system-startup-shutdown-reboot" title="Permalink to this headline">¶</a></h2>
<dl class="field-list simple">
<dt class="field-odd">ref</dt>
<dd class="field-odd"><p><a class="reference external" href="http://www.upubuntu.com/2015/08/how-to-executerun-bash-script-at-system.html">http://www.upubuntu.com/2015/08/how-to-executerun-bash-script-at-system.html</a></p>
</dd>
</dl>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">+x</span> <span class="pre">script_file</span></code> can turn your script executable</p></li>
<li><p>if you want to run a bash script at system startup, go edit <code class="docutils literal notranslate"><span class="pre">/etc/rc.local</span></code></p></li>
<li><p>if you want to run a script at system reboot, go put it in <code class="docutils literal notranslate"><span class="pre">/etc/rc0.d</span></code></p></li>
<li><p>if you want to run a script at system shutdown, go put it in <code class="docutils literal notranslate"><span class="pre">/etc/rc6.d</span></code></p></li>
</ol>
</div>
<div class="section" id="check-the-size-of-a-folder">
<h2>Check the size of a folder<a class="headerlink" href="#check-the-size-of-a-folder" title="Permalink to this headline">¶</a></h2>
<p>ref: <a class="reference external" href="https://unix.stackexchange.com/questions/185764/how-do-i-get-the-size-of-a-directory-on-the-command-line">https://unix.stackexchange.com/questions/185764/how-do-i-get-the-size-of-a-directory-on-the-command-line</a></p>
<p>Jump to the directory, type: <code class="docutils literal notranslate"><span class="pre">du</span> <span class="pre">-sh</span></code> and wait for results.</p>
</div>
<div class="section" id="install-ubuntu-18-04-1-lts-with-kernel-4-19">
<h2>Install Ubuntu 18.04.1 LTS with Kernel 4.19<a class="headerlink" href="#install-ubuntu-18-04-1-lts-with-kernel-4-19" title="Permalink to this headline">¶</a></h2>
<p>This guide shows how to install</p>
<ol class="arabic simple">
<li><p>Ubuntu 18.04.01 LTS Bionic with update-to-date kernel 4.19,</p></li>
<li><p>CUDA 10 and nvidia drivers for Gigabyte Geforce RTX 2080ti.</p></li>
<li><p>TensorFlow 1.12 with CUDA 10 support.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We want to use <em>ubuntu 18.04.01 LTS Bionic</em> and <em>TensorFlow</em>.
Currently <em>Tensorflow</em> only support up to <em>CUDA 9</em>.
Nvidia only support <em>CUDA 10</em> for <em>Bionic</em>. Meaning if we want to use <em>TensorFlow</em> in <em>Bionic</em>,
we have to install <em>CUDA 10</em> and compile <em>TensorFlow</em> from source for it to work with <em>CUDA 10</em>.</p>
<p>The <em>nouveau</em> driver comes with ubuntu installation will not work for 2080ti. Hence we need
to install driver for 2080ti after ubuntu has been installed.</p>
<p>I am using <em>z390 AORUS PRO WIFI</em> motherboard, and the wifi module will only work under the condition that
we update the default 4.15 kernel to a later stable version. In this guide <em>linux kernel 4.19</em> has been chosen,
which is the latest stable one.</p>
<p>The correct installation order is:</p>
<ol class="arabic simple">
<li><p>Install Bionic (with a bootable USB stick)</p></li>
<li><p>Update kernel version to 4.19 (which contains the driver for the wifi module on <em>z390 AORUS PRO WIFI</em>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">build-essential</span></code></p></li>
<li><p>Disable <em>nouveau</em> driver (for the purpose of installing the driver that works for RTX 2080ti)</p></li>
<li><p>Download Nvidia <code class="docutils literal notranslate"><span class="pre">.run</span></code> file from official website, install the 2080ti driver and CUDA 10 at the same time.</p></li>
</ol>
</div>
<p>Detailed Guide:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Before starting the installation process, the <code class="docutils literal notranslate"><span class="pre">.deb</span></code> files required for updating kernel to 4.19
and the <code class="docutils literal notranslate"><span class="pre">.run</span></code> file required for install CUDA10 and nvidia driver for 2080ti have been downloaded to
a mountable disk.</p>
</div>
<ol class="arabic simple">
<li><p>Boot from USB stick, erase disk and install Bionic, at the end the installation when the restart prompt come up just click the “Restart” button.</p></li>
<li><p>Wait a moment until you see “Please remove the installation medium, then reboot”. Remove installation medium physically then press “ctrl + c”.</p></li>
<li><p>Make sure you have the <code class="docutils literal notranslate"><span class="pre">.deb</span></code> files required for updating kernel to 4.19 and run below commands. If your default kernel is even newer than 4.19, do not add extra kernel version if possible.</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># install new kernel</span>
sudo dpkg -i linux-*.deb

<span class="c1"># edit grub file to make sure everytime grub interface shows up when reboot</span>
sudo vi /etc/default/grub
<span class="nv">GRUB_TIMEOUT_STYLE</span><span class="o">=</span>
<span class="nv">GRUB_TIMEOUT</span><span class="o">=</span><span class="m">10000</span>
<span class="c1"># ``:wq`` to save</span>

sudo update-grub
sudo reboot <span class="c1"># then during the rebooting process choose the right kernel</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you have not modified default grub file and you want to boot into GRUB mode
when you are in BIOS, first press <code class="docutils literal notranslate"><span class="pre">F12</span></code> to choose the ubuntu disk to boot from.
Then immediately hit <code class="docutils literal notranslate"><span class="pre">shift</span></code> until GRUB actually appears on the screen.</p>
</div>
<ol class="arabic simple" start="6">
<li><p>Disable <em>nouveau</em> driver.</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo bash -c <span class="s2">&quot;echo blacklist nouveau &gt; /etc/modprobe.d/blacklist-nvidia-nouveau.conf&quot;</span>
sudo bash -c <span class="s2">&quot;echo options nouveau modeset=0 &gt;&gt; /etc/modprobe.d/blacklist-nvidia-nouveau.conf&quot;</span>
<span class="c1"># verify:</span>
cat /etc/modprobe.d/blacklist-nvidia-nouveau.conf
<span class="c1"># blacklist nouveau</span>
<span class="c1"># options nouveau modeset=0</span>
sudo update-initramfs -u
sudo reboot
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Use <em>software updater</em> to update Bionic, enter password if prompted (or <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">update</span> <span class="pre">&amp;&amp;</span> <span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">upgrade</span></code>). Then``sudo reboot``.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">build-essential</span></code>, after that <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">reboot</span></code>.</p></li>
</ol>
<ol class="arabic simple" start="7">
<li><p>reboot to grub interface, select advanced, select kernel press <code class="docutils literal notranslate"><span class="pre">e</span></code>, append `` 3`` after the line starting with linux. Then f10.</p></li>
<li><p>Start the installation by <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">bash</span> <span class="pre">xxx.run</span></code>. Press space button to scroll display until you are asked to accept or decline or quit the EULA. Type <em>accept</em> if you wish continue. Then answer questions for installing nvidia driver and CUDA10.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">curl</span> <span class="pre">git</span> <span class="pre">vim</span> <span class="pre">htop</span></code>.</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> ~ <span class="o">&amp;&amp;</span> touch .vimrc
vim .vimrc
</pre></div>
</div>
<p>Insert below contents to <code class="docutils literal notranslate"><span class="pre">.vimrc</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> number
<span class="nb">set</span> ruler
<span class="nb">set</span> nocindent
<span class="nb">set</span> nosmartindent
<span class="nb">set</span> noautoindent
<span class="nb">set</span> <span class="nv">indentexpr</span><span class="o">=</span>
filetype indent off
filetype plugin indent off
</pre></div>
</div>
<ol class="arabic simple" start="10">
<li><p><code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">dpkg</span> <span class="pre">-i</span> <span class="pre">xxxx.deb</span></code> to install chrome.</p></li>
<li><p>Install zsh shell by following <a class="reference external" href="https://github.com/robbyrussell/oh-my-zsh/wiki/installing-ZSH">https://github.com/robbyrussell/oh-my-zsh/wiki/installing-ZSH</a></p></li>
</ol>
<ol class="arabic simple" start="13">
<li><p>install oh-my-zsh. Uncomment the <code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">PATH</span></code> line.</p></li>
<li><p>visit nvidia CUDA installation guide from browser, follow the post installation actions. Additionally, as indicated in tensorflow GPU support installation guide, add <code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/cuda/extras/CUPTI/lib64</span></code> to <code class="docutils literal notranslate"><span class="pre">.zshrc</span></code>. After that verify installation as indicated in nvidia guide. Close the current terminal and open a new one.</p></li>
<li><p>Open cudnn installation guide website, install cudnn and verify it.</p></li>
<li><p>Install dependencies for installing python from source.</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt install libssl-dev zlib1g-dev libncurses5-dev libncursesw5-dev libreadline-dev libsqlite3-dev
sudo apt install libgdbm-dev libdb5.3-dev libbz2-dev libexpat1-dev liblzma-dev tk-dev
</pre></div>
</div>
<ol class="arabic simple" start="17">
<li><p>Download python 3.6.7 from official python download page. Then <code class="docutils literal notranslate"><span class="pre">./configure</span> <span class="pre">--enable-optimizations</span></code>, <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">-j</span> <span class="pre">8</span></code>, and <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">make</span> <span class="pre">altinstall</span></code>. Then exit shell and start a new one.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">snap</span> <span class="pre">remove</span> <span class="pre">gnome-system-monitor</span></code> and <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">gnome-system-monitor</span></code>.</p></li>
<li><p>Install cmake.</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt install curl libcurl4-gnutls-dev
<span class="nb">cd</span> /tmp <span class="o">&amp;&amp;</span> mkdir cmake <span class="o">&amp;&amp;</span> <span class="nb">cd</span> cmake
wget https://cmake.org/files/v3.12/cmake-3.12.2.tar.gz
tar xvf cmake-3.12.2.tar.gz <span class="o">&amp;&amp;</span> <span class="nb">cd</span> cmake-3.12.2
./bootstrap --parallel<span class="o">=</span><span class="k">$(</span>nproc<span class="k">)</span> --system-curl
make -j <span class="k">$(</span>nproc<span class="k">)</span>
sudo make install
</pre></div>
</div>
<ol class="arabic simple" start="20">
<li><p>Install opencv</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> /tmp <span class="o">&amp;&amp;</span> mkdir repo <span class="o">&amp;&amp;</span> <span class="nb">cd</span> repo <span class="o">&amp;&amp;</span> mkdir opencv-installation
wget https://github.com/opencv/opencv/archive/3.4.3.zip -O opencv-3.4.3.zip <span class="o">&amp;&amp;</span> unzip opencv-3.4.3.zip <span class="o">&amp;&amp;</span> mv opencv-3.4.3 opencv
wget https://github.com/opencv/opencv_contrib/archive/3.4.3.zip -O opencv_contrib-3.4.3.zip <span class="o">&amp;&amp;</span> unzip opencv_contrib-3.4.3.zip <span class="o">&amp;&amp;</span> mv opencv_contrib-3.4.3 opencv_contrib
<span class="nb">cd</span> opencv <span class="o">&amp;&amp;</span> mkdir build <span class="o">&amp;&amp;</span> <span class="nb">cd</span> build
cmake -G <span class="s2">&quot;Unix Makefiles&quot;</span> -DCMAKE_CXX_COMPILER<span class="o">=</span>/usr/bin/g++ <span class="nv">CMAKE_C_COMPILER</span><span class="o">=</span>/usr/bin/gcc -DCMAKE_BUILD_TYPE<span class="o">=</span>RELEASE -DCMAKE_INSTALL_PREFIX<span class="o">=</span>/usr/local -D <span class="nv">OPENCV_EXTRA_MODULES_PATH</span><span class="o">=</span>/tmp/repo/opencv-installation/opencv_contrib/modules -DWITH_TBB<span class="o">=</span>ON -DBUILD_NEW_PYTHON_SUPPORT<span class="o">=</span>ON -DWITH_V4L<span class="o">=</span>ON -DINSTALL_C_EXAMPLES<span class="o">=</span>ON -DINSTALL_PYTHON_EXAMPLES<span class="o">=</span>ON -DBUILD_EXAMPLES<span class="o">=</span>ON -DWITH_OPENGL<span class="o">=</span>ON -DBUILD_FAT_JAVA_LIB<span class="o">=</span>ON -DINSTALL_TO_MANGLED_PATHS<span class="o">=</span>ON -DINSTALL_CREATE_DISTRIB<span class="o">=</span>ON -DINSTALL_TESTS<span class="o">=</span>ON -DENABLE_FAST_MATH<span class="o">=</span>ON -DWITH_IMAGEIO<span class="o">=</span>ON -DBUILD_SHARED_LIBS<span class="o">=</span>OFF -DWITH_GSTREAMER<span class="o">=</span>ON ..
make all -j<span class="k">$(</span>nproc<span class="k">)</span>
sudo make install
sudo apt install python3-opencv
pkg-config --modversion opencv
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ssh.html" class="btn btn-neutral float-right" title="SSH" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="mac.html" class="btn btn-neutral float-left" title="Mac" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2017-2020, WANG Zhenxiang Pharrell

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>